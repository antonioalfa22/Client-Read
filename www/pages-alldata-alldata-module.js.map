{"version":3,"sources":["webpack:///./src/app/pages/alldata/alldata.module.ts","webpack:///./src/app/pages/alldata/alldata.page.html","webpack:///./src/app/pages/alldata/alldata.page.scss","webpack:///./src/app/pages/alldata/alldata.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEA;AAC0B;AAEvE,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,yDAAW;KACvB;CACF,CAAC;AAaF;IAAA;IAAiC,CAAC;IAArB,iBAAiB;QAX7B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,gEAAc;gBACd,oEAAkB;gBAClB,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,yDAAW,CAAC;SAC5B,CAAC;OACW,iBAAiB,CAAI;IAAD,wBAAC;CAAA;AAAJ;;;;;;;;;;;;AC5B9B,ujCAAujC,YAAY,6VAA6V,qBAAqB,4VAA4V,gBAAgB,uVAAuV,aAAa,sSAAsS,cAAc,4MAA4M,2BAA2B,wd;;;;;;;;;;;ACAhqF,yBAAyB,gBAAgB,EAAE,+CAA+C,mZ;;;;;;;;;;;;;;;;;;;;;ACAzB;AACM;AACV;AACQ;AAC5B;AAQzC;IAOE,qBACU,SAAwB,EACxB,OAAoB,EACpB,MAAc;QAFd,cAAS,GAAT,SAAS,CAAe;QACxB,YAAO,GAAP,OAAO,CAAa;QACpB,WAAM,GAAN,MAAM,CAAQ;QAPxB,qBAAgB,GAAa,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IAQtE,CAAC;IAED,8BAAQ,GAAR;QAAA,iBAsBC;QArBC,IAAI,MAAM,CAAC,UAAU,GAAG,GAAG,EAAE;YAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SAClB;QAED,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,aAAG;YACvC,IAAI,IAAI,GAAG,EAAE,CAAC;YAEd,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE;gBACnB,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAChD,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,kBAAkB,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,kBAAkB,EAAE;gBAC9E,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;aACrB;YACD,KAAI,CAAC,UAAU,GAAG,IAAI,oEAAkB,CAAC,IAAI,CAAC,CAAC;YAC/C,KAAI,CAAC,UAAU,CAAC,SAAS,GAAG,KAAI,CAAC,SAAS,CAAC;QAC7C,CAAC,EAAG,aAAG;YACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACxB,KAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;YACtB,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;IAGL,CAAC;IA7BwB;QAAxB,+DAAS,CAAC,8DAAY,CAAC;wEAAY,8DAAY;kDAAC;IANtC,WAAW;QALvB,+DAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,qGAAkC;;SAEnC,CAAC;+EASqB,6EAAa;YACf,uEAAW;YACZ,sDAAM;OAVb,WAAW,CAqCvB;IAAD,kBAAC;CAAA;AArCuB","file":"pages-alldata-alldata-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AlldataPage } from './alldata.page';\r\nimport { MatTableModule, MatPaginatorModule } from '@angular/material';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AlldataPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MatTableModule,\r\n    MatPaginatorModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [AlldataPage]\r\n})\r\nexport class AlldataPageModule { }\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Todos los datos</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n  <div class=\\\"row\\\">\\r\\n   <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n            <div class=\\\"card-header card-header-orange\\\">\\r\\n                <h4 class=\\\"card-title \\\">Todos los datos</h4>\\r\\n                <p class=\\\"card-category\\\"> Lista con todos los datos proporcionados por los devices</p>\\r\\n            </div>\\r\\n            <div class=\\\"card-body\\\">\\r\\n                <div class=\\\"table-responsive\\\">\\r\\n                    <table class=\\\"table\\\" [dataSource]=\\\"dataSource\\\" mat-table>\\r\\n                        <!-- Position Column -->\\r\\n                        <ng-container matColumnDef=\\\"Key\\\">\\r\\n                          <th mat-header-cell *matHeaderCellDef class=\\\" text-primary\\\"> ID </th>\\r\\n                          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.id}} </td>\\r\\n                        </ng-container>\\r\\n\\r\\n                        <!-- Name Column -->\\r\\n                        <ng-container matColumnDef=\\\"temp\\\">\\r\\n                          <th mat-header-cell *matHeaderCellDef class=\\\" text-primary\\\"> Temperatura </th>\\r\\n                          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.temperature}} </td>\\r\\n                        </ng-container>\\r\\n\\r\\n                        <!-- Weight Column -->\\r\\n                        <ng-container matColumnDef=\\\"device\\\">\\r\\n                          <th mat-header-cell *matHeaderCellDef class=\\\" text-primary\\\"> Device </th>\\r\\n                          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.device}} </td>\\r\\n                        </ng-container>\\r\\n\\r\\n                        <!-- Symbol Column -->\\r\\n                        <ng-container  matColumnDef=\\\"gps\\\">\\r\\n                          <th mat-header-cell *matHeaderCellDef class=\\\" text-primary\\\"> GPS </th>\\r\\n                          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.gps}} </td>\\r\\n                        </ng-container>\\r\\n\\r\\n                        <ng-container matColumnDef=\\\"time\\\">\\r\\n                          <th mat-header-cell *matHeaderCellDef class=\\\" text-primary\\\"> Hora </th>\\r\\n                          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.hour}} </td>\\r\\n                        </ng-container>\\r\\n\\r\\n                        <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\r\\n                        <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\r\\n                    </table>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"card-footer\\\">\\r\\n              <mat-paginator [length]=\\\"100\\\" [pageSize]=\\\"10\\\" [pageSizeOptions]=\\\"[5, 10, 20]\\\">\\r\\n              </mat-paginator>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <ion-footer>\\r\\n  <ion-toolbar>\\r\\n    © Copyright Antonio Payá González 2019\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n</ion-content>\"","module.exports = \"table {\\n  width: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWxsZGF0YS9DOlxcVXNlcnNcXGFudG9uXFxEZXNrdG9wXFxURkdcXFJlcG9zXFxDbGllbnQtUmVhZC9zcmNcXGFwcFxccGFnZXNcXGFsbGRhdGFcXGFsbGRhdGEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBVyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWxsZGF0YS9hbGxkYXRhLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxle1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuIl19 */\"","import { UserService } from './../../services/user/user.service';\r\nimport { DeviceService } from './../../services/device/device.service';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatPaginator, MatTableDataSource } from '@angular/material';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-alldata',\r\n  templateUrl: './alldata.page.html',\r\n  styleUrls: ['./alldata.page.scss'],\r\n})\r\nexport class AlldataPage implements OnInit {\r\n\r\n  size: boolean;\r\n  displayedColumns: string[] = ['Key', 'temp', 'device', 'gps', 'time'];\r\n  dataSource;\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  constructor(\r\n    private deviceApi: DeviceService,\r\n    private userApi: UserService,\r\n    private router: Router) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (window.innerWidth > 760) {\r\n      this.size = true;\r\n    }\r\n\r\n    this.deviceApi.getAllData().subscribe(res => {\r\n      let data = [];\r\n\r\n      for (let key in res) {\r\n        let date = new Date(parseInt(res[key]['hour']));\r\n        res[key]['hour'] = date.toLocaleDateString() + \" \" + date.toLocaleTimeString()\r\n        data.push(res[key]);\r\n      }\r\n      this.dataSource = new MatTableDataSource(data);\r\n      this.dataSource.paginator = this.paginator;\r\n    } , err => {\r\n      console.log(err.status);\r\n      this.userApi.logout();\r\n      this.router.navigate(['/login'], { replaceUrl: true });\r\n    });\r\n\r\n\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}